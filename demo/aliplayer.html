<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge" >
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"/>
    <title>Aliplayer Demo</title>
    <link rel="stylesheet" href="https://g.alicdn.com/de/prismplayer/2.9.13/skins/default/aliplayer-min.css" />
    <script type="text/javascript" charset="utf-8" src="https://g.alicdn.com/de/prismplayer/2.9.13/aliplayer-min.js"></script>
</head>
<body>
<div class="prism-player" id="player-con"></div>
<script type="module">
    import P2PEngineHls from "https://cdn.jsdelivr.net/npm/@swarmcloud/hls/p2p-engine.es.min.js";
    var engine = new P2PEngineHls({
        swFile: './sw.js',
        live: false,        // set to true in live mode
        // logLevel: 'debug',
        // trackerZone: 'hk',        // if using Hongkong tracker
        // trackerZone: 'us',        // if using USA tracker
        // token: YOUR_TOKEN
    })
    engine.registerServiceWorker().catch(()=>{}).finally(() => {
        var player = new Aliplayer({
                "id": "player-con",
                "source": "https://test-streams.mux.dev/x36xhzz/url_8/193039199_mp4_h264_aac_fhd_7.m3u8",
                "width": "100%",
                "height": "500px",
                "autoplay": true,
                "isLive": false,
                "rePlay": true,
                "playsinline": true,
                "preload": true,
                "controlBarVisibility": "hover",
                "useH5Prism": true
            }, function (player) {
                console.log("The player is created");
            }
        );
    })

</script>
</body>
